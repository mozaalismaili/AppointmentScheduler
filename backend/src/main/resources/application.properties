spring.application.name=AppointmentScheduler

# Database Configuration
# Try to use MYSQL_URL first, then fall back to individual properties
spring.datasource.url=${MYSQL_URL:jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:your_database_name}?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&useUnicode=true&characterEncoding=UTF-8}
spring.datasource.username=${DB_USERNAME:your_username}
spring.datasource.password=${DB_PASSWORD:your_password}
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Database Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=${DB_MAX_POOL_SIZE:10}
spring.datasource.hikari.minimum-idle=${DB_MIN_IDLE:5}
spring.datasource.hikari.connection-timeout=${DB_CONNECTION_TIMEOUT:30000}
spring.datasource.hikari.idle-timeout=${DB_IDLE_TIMEOUT:600000}
spring.datasource.hikari.max-lifetime=${DB_MAX_LIFETIME:1800000}

# JWT Configuration
jwt.secret=${JWT_SECRET:your_jwt_secret_key_here_make_it_long_and_random}
jwt.expiration=${JWT_EXPIRATION:86400000}
jwt.header=${JWT_HEADER:Authorization}
jwt.prefix=${JWT_PREFIX:Bearer }

# Appointment Configuration
appointment.default-cancellation-limit-hours=${APPOINTMENT_CANCELLATION_LIMIT_HOURS:24}
appointment.grace-period-minutes=${APPOINTMENT_GRACE_PERIOD_MINUTES:15}
appointment.allow-past-cancellations=${APPOINTMENT_ALLOW_PAST_CANCELLATIONS:false}
appointment.default-slot-minutes=${APPOINTMENT_DEFAULT_SLOT_MINUTES:30}
appointment.default-provider-numeric-id=${APPOINTMENT_DEFAULT_PROVIDER_NUMERIC_ID:1}

# Server Configuration
server.port=${SERVER_PORT:8080}
app.cors.allowed-origins=${ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5173}

# Management / Actuator (dev defaults)
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.health.db.enabled=true
management.health.defaults.enabled=true

# Logging defaults
logging.level.org.springframework=${LOGGING_LEVEL_SPRING:INFO}
logging.level.com.rihal.AppointmentScheduler=${LOGGING_LEVEL_APP:INFO}

